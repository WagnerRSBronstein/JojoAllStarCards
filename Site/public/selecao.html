<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <title>Batalha de Cartas - JoJo Edition</title>

  <!-- CSS -->
  <link rel="stylesheet" href="css/battle_selection.css">

  <!-- Ícone -->
  <link rel="icon" type="image/png" href="assets/logo.png">
</head>

<body>

  <!-- Botão voltar -->
  <button id="voltar" onclick="voltar()">
    <img src="assets/voltar.png" width="50px"> Voltar
  </button>

  <h1>Batalha de Cartas - JoJo Edition</h1>

  <div id="tela_inicial">

    <p>Escolha sua carta:</p>

    <!-- Seleção de Personagem -->
    <select id="sct_carta" onchange="updatePreview()" class="escolher">
      <option value="1">Jotaro Kujo</option>
      <option value="2">Yoshikage Kira</option>
      <option value="3">Dio Brando</option>
      <option value="4">Diavolo</option>
      <option value="5">Enrico Pucci</option>
      <option value="6">Josuke Higashikata</option>
      <option value="7">Giorno Giovanna</option>
      <option value="8">Jolyne Kujo</option>
      <option value="9">Funny Valentine</option>
    </select>

    <!-- Botão iniciar -->
    <button class="botao" onclick="startBattle()">Iniciar Batalha</button>

    <!-- Preview -->
    <div id="preview">
      <img id="preview_img" src="" alt="Imagem da carta">

      <div id="habilidades">
        <h3>Habilidades</h3>
        <ul id="lista_habilidades"></ul>
      </div>
    </div>

  </div>

  <!-- Arquivo de personagens -->
  <script src="personagens.js"></script>


  <script>
    function voltar() {
      window.location.href = "index.html";
    }

    // Atualiza preview ao trocar personagem
    function updatePreview() {
      var sel = document.getElementById('sct_carta');
      var val = sel.value;

      document.getElementById('preview_img').src = imagemCarta(val);

      var ul = document.getElementById('lista_habilidades');
      ul.innerHTML = "";

      var list = habilidades[val] || [];
      list.forEach(function (hab) {
        var li = document.createElement("li");
        li.textContent = hab;
        ul.appendChild(li);
      });
    }

    // Vai para a batalha com parâmetro
    function startBattle() {
      var val = document.getElementById('sct_carta').value;
      location.href = 'batalha.html?c=' + val;
    }

    // Atualiza preview ao carregar página
    window.onload = updatePreview;
  </script>

</body>

</html>